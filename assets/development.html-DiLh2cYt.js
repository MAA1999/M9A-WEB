import{_ as t,c as l,b as i,a as r,e as s,d as n,w as h,r as p,o as d}from"./app-Biz-8gg7.js";const o={},k={class:"hint-container note"};function g(c,e){const a=p("VPLink");return d(),l("div",null,[i("div",k,[e[3]||(e[3]=i("p",{class:"hint-container-title"},"注",-1)),e[4]||(e[4]=i("p",null,"只有当您想要开发 M9A 时才需要看当前页面！",-1)),i("p",null,[e[1]||(e[1]=s("用户请转到 ",-1)),n(a,{href:"../manual/newbie.md"},{default:h(()=>[...e[0]||(e[0]=[s("M9A 使用手册",-1)])]),_:1}),e[2]||(e[2]=s("。",-1))]),e[5]||(e[5]=i("p",null,[s("开发 MaaFramework 或开发自己的项目请到 "),i("a",{href:"https://github.com/MaaXYZ/MaaFramework",target:"_blank",rel:"noopener noreferrer"},"MaaXYZ/MaaFramework"),s("。")],-1))]),e[6]||(e[6]=r('<h2 id="github-pull-request-流程简述" tabindex="-1"><a class="header-anchor" href="#github-pull-request-流程简述"><span>Github Pull Request 流程简述</span></a></h2><h3 id="我不懂编程-只是想改一点点-json-文件-文档等-要怎么操作" tabindex="-1"><a class="header-anchor" href="#我不懂编程-只是想改一点点-json-文件-文档等-要怎么操作"><span>我不懂编程，只是想改一点点 JSON 文件/文档等，要怎么操作？</span></a></h3><p>欢迎收看 <a href="https://maa.plus/docs/zh-cn/develop/pr-tutorial.html" target="_blank" rel="noopener noreferrer">牛牛也能看懂的 GitHub Pull Request 使用指南</a></p><h3 id="我有编程经验-但是没参与过相关项目-要怎么做" tabindex="-1"><a class="header-anchor" href="#我有编程经验-但是没参与过相关项目-要怎么做"><span>我有编程经验，但是没参与过相关项目，要怎么做？</span></a></h3><ol><li><p>如果很久以前 fork 过，先在自己仓库的 <code>Settings</code> 里，翻到最下面，删除</p></li><li><p>打开 <a href="https://github.com/MAA1999/M9A" target="_blank" rel="noopener noreferrer">M9A 主仓库</a>，点击 <code>Fork</code>，继续点击 <code>Create fork</code></p></li><li><p>克隆你自己的仓库到本地，并拉取子模块</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --recursive</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你的用户</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">名</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/M9A.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>⚠</p><p><strong>--recursive 一定不要忘！<strong><strong>--recursive 一定不要忘！</strong></strong>--recursive 一定不要忘！</strong><br> OCR异常失败很可能就是没加recursive导致。</p></blockquote></li><li><p>下载 MaaFramework 的 <a href="https://github.com/MaaXYZ/MaaFramework/releases" target="_blank" rel="noopener noreferrer">Release 包</a>，解压到 <code>deps</code> 文件夹中。</p></li><li><p>配置编程环境</p><ul><li><p>安装 python（≥3.11）</p></li><li><p>下载并安装vscode</p></li><li><p>选择性安装调试/开发工具</p><table><thead><tr><th>工具</th><th>简介</th></tr></thead><tbody><tr><td><a href="https://github.com/MaaXYZ/MaaDebugger" target="_blank" rel="noopener noreferrer">MaaDebugger</a></td><td>独立调试工具</td></tr><tr><td><a href="https://marketplace.visualstudio.com/items?itemName=nekosu.maa-support" target="_blank" rel="noopener noreferrer">Maa Pipeline Support</a></td><td>VSCode 插件，提供调试、截图、获取 ROI 、取色等功能</td></tr><tr><td><a href="https://github.com/SweetSmellFox/MFATools" target="_blank" rel="noopener noreferrer">MFA Tools(仅win)</a></td><td>独立截图、获取 ROI 及取色工具</td></tr><tr><td><a href="https://github.com/MaaXYZ/MaaFramework/tree/main/tools/ImageCropper" target="_blank" rel="noopener noreferrer">ImageCropper(不推荐)</a></td><td>独立截图及获取 ROI 工具</td></tr></tbody></table></li></ul></li><li><p>开始开发</p><p>使用上一个步骤中安装的调试/开发工具开发M9A，虚拟环境会自动创建在<code>.venv</code>目录中。</p><p>开始愉快的改代码吧，可以看看别的文档。</p></li><li><p>git 操作</p><p>通常用的最多的基本命令有：</p><ul><li><code>git add &lt;file&gt;</code>：添加文件到暂存区，<code>*</code> 代表全部文件</li><li><code>git commit -m &quot;message&quot;</code>：提交暂存区到本地仓库。<code>message</code> 请遵循 <a href="https://www.conventionalcommits.org/zh-hans/v1.0.0/" target="_blank" rel="noopener noreferrer">约定式提交规范</a>，让你的 commit 信息更加清晰</li><li><code>git pull origin &lt;branch&gt;</code>：拉取远程仓库到本地仓库</li><li><code>git push origin &lt;branch&gt;</code>：推送本地仓库到远程仓库</li></ul><blockquote><p>⚠</p><p>开发过程中，每一定数量，记得提交一个 commit, 别忘了写上 message 假如你不熟悉 git 的使用，你可能需要创建并切换到一个新的分支，而不是直接提交在 main 上 这样你的提交就能在新的分支上生长，不会受到 main 更新的打扰</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">branch-nam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 创建并切换到新的分支</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>完成开发后，推送你修改的本地分支到远程仓库（fork 的仓库）</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">branch-nam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>当 M9A 仓库出现更改（如其他人的commit），你可能需要把这些更改同步到你的分支</p><ol><li><p>关联 M9A 原仓库：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upstream</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/MAA1999/M9A.git</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">`</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>拉取远程仓库更新：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upstream</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>变基（推荐）或者合并修改：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rebase</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upstream/main</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 变基，使commit历史更清晰，完成你的个人pr时建议使用rebase而不是merge来合并修改</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upstream/main</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>git 参考资料：</p><ul><li><a href="https://git-scm.com/docs" target="_blank" rel="noopener noreferrer">git 官方文档</a></li><li><a href="https://www.runoob.com/manual/git-guide/" target="_blank" rel="noopener noreferrer">git 简明指南</a></li><li><a href="https://www.runoob.com/git/git-tutorial.html" target="_blank" rel="noopener noreferrer">git 教程|菜鸟教程</a></li></ul></li><li><p>提交 Pull Request</p><p>你修改的代码已经提交到你的仓库，现在你需要提交一个 Pull Request 到 M9A 的仓库，等待维护者审核</p><p><a href="https://maa.plus/docs/zh-cn/develop/pr-tutorial.html" target="_blank" rel="noopener noreferrer">GitHub Pull Request 参考</a></p></li></ol><h2 id="m9a-格式化要求" tabindex="-1"><a class="header-anchor" href="#m9a-格式化要求"><span>M9A 格式化要求</span></a></h2><p>M9A 使用一系列的格式化工具来保证仓库中的代码和资源文件美观统一，以便于维护和阅读</p><p>请确保在提交之前已经格式化，或是启用 Pre-commit Hooks 进行自动格式化</p><p>目前启用的格式化工具如下：</p><table><thead><tr><th>文件类型</th><th>格式化工具</th></tr></thead><tbody><tr><td>JSON/Yaml</td><td><a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">prettier</a></td></tr><tr><td>Markdown</td><td><a href="https://github.com/DavidAnson/markdownlint-cli2" target="_blank" rel="noopener noreferrer">MarkdownLint</a></td></tr></tbody></table><h3 id="利用-pre-commit-hooks-自动进行代码格式化" tabindex="-1"><a class="header-anchor" href="#利用-pre-commit-hooks-自动进行代码格式化"><span>利用 Pre-commit Hooks 自动进行代码格式化</span></a></h3><div class="hint-container note"><p class="hint-container-title">注</p><p>实际协作中，在 vscode 中开发，安装推荐的插件后，基本就可以完成自动格式化了，故该部分可跳过。</p></div><ol><li><p>确保你的电脑上有 Python 与 Node 环境</p></li><li><p>在项目根目录下执行以下命令</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pre-commit</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pre-commit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>如果pip安装后依然无法运行pre-commit，请确认pip安装地址已被添加到PATH</p><p>接下来，每次提交时都将会自动运行格式化工具，来确保你的代码格式符合规范</p><p>手动触发：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pre-commit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --all-files</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',17))])}const u=t(o,[["render",g]]),b=JSON.parse('{"path":"/zh_cn/develop/development.html","title":"开发前须知","lang":"zh-CN","frontmatter":{"order":1,"icon":"iconoir:developer","title":"开发前须知","description":"注 只有当您想要开发 M9A 时才需要看当前页面！ 用户请转到 。 开发 MaaFramework 或开发自己的项目请到 MaaXYZ/MaaFramework。 Github Pull Request 流程简述 我不懂编程，只是想改一点点 JSON 文件/文档等，要怎么操作？ 欢迎收看 牛牛也能看懂的 GitHub Pull Request 使用指南...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"开发前须知\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://1999.fan/zh_cn/develop/development.html"}],["meta",{"property":"og:site_name","content":"M9A 文档站"}],["meta",{"property":"og:title","content":"开发前须知"}],["meta",{"property":"og:description","content":"注 只有当您想要开发 M9A 时才需要看当前页面！ 用户请转到 。 开发 MaaFramework 或开发自己的项目请到 MaaXYZ/MaaFramework。 Github Pull Request 流程简述 我不懂编程，只是想改一点点 JSON 文件/文档等，要怎么操作？ 欢迎收看 牛牛也能看懂的 GitHub Pull Request 使用指南..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://1999.fan/en_us/develop/development.html"}]]},"readingTime":{"minutes":3.66,"words":1097},"git":{},"autoDesc":true,"filePathRelative":"zh_cn/develop/development.md","headers":[]}');export{u as comp,b as data};
